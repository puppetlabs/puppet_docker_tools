#!/usr/bin/env ruby

require_relative '../../spec/spec_helper'
require 'rspec/core'

directory = ARGV[0] || '.'
tests = Dir.glob("#{directory}/spec/*_spec.rb")
test_files = tests.map { |test| File.basename(test, '.rb') }

puts "Running RSpec tests from #{File.expand_path("#{directory}/spec")} (#{test_files.join ","}), this may take some time"
RSpec::Core::Runner.run(tests, $stderr, $stdout)
